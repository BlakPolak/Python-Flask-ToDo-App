{% extends "skeleton.html" %}

{% block title %}
    {{ super() }}
{% endblock %}

{% block content %}
    {% block editButtons %}{{ super() }}{% endblock %}
    <dl>
        <div>
        {% for item in ToDoThings %}
          {% if item.done %}
                    <dt>
                        <div class="done" >
                                <button class="accordion"><span class="todo-name" class="firstFont">{{ item.name }}</span></button>
                                <div class="panel">
                                    <a href="/toggle/{{ item.id }}"><img src="static/toDo.png" width="12" height="12"></a>
                                    <a href="/edit/{{ item.id }}"><img src="static/edit.png"   width="12" height="12"></a>
                                    <a href="/remove/{{ item.id }}"><img src="static/trash.png"  width="12" height="12"></a>
                                </div>
                        </div>
                    </dt>
          {% else %}
                    <dt>
                        <div class="toDo" class="toggler">
                            <div class = "effect" >
                                <button class="accordion"><span class="todo-name" class="firstFont">{{ item.name }}</span></button>
                                <div class="panel">
                                    <a href="/toggle/{{ item.id }}"><img src="static/done.png" width="12" height="12"></a>
                                    <a href="/edit/{{ item.id }}"><img src="static/edit.png" width="12" height="12"></a>
                                    <a href="/remove/{{ item.id }}"><img src="static/trash.png" width="12" height="12"></a>
                                </div>
                            </div>
                        </div>
                    </dt>
          {% endif %}
        {% endfor %}
            </br>
            <div>
                <button class="efectButton" >Edit</button>
                <button class="add, usual">Add</button>
                <div class="thingToDo">
                </div>
            </div>

        </div>
        <script>
            var acc = document.getElementsByClassName("accordion");
            var i;
            for (i = 0; i < acc.length; i++) {
                acc[i].onclick = function(){
                    /* Toggle between adding and removing the "active" class,
                    to highlight the button that controls the panel */
                    this.classList.toggle("active");

                    /* Toggle between hiding and showing the active panel */
                    var panel = this.nextElementSibling;
                    if (panel.style.display === "block") {
                        panel.style.display = "none";
                    } else {
                        panel.style.display = "block";
                    }
                }
            }
            $(function() {
                var state = true;
                $( ".efectButton" ).on( "click", function() {
                  if ( state ) {
                    $( ".effect" ).animate({
                      width: '150%',
                    }, 1000 );
                  } else {
                    $( ".effect" ).animate({
                      width: '100%',
                    }, 1000 );
                  }
                  state = !state;
                });
            });
            $(function() {
                $( '.add, .usual' ).click(function() {
                     return addThingToDo();
                });
            });
        </script>
    </dl>
{% endblock %}

